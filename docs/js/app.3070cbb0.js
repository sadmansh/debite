(function(t){function e(e){for(var o,s,i=e[0],u=e[1],c=e[2],l=0,m=[];l<i.length;l++)s=i[l],a[s]&&m.push(a[s][0]),a[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,s=1;s<n.length;s++){var u=n[s];0!==a[u]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},a={app:0},r=[];function s(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"2397db55"}[t]+".js"}function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise(function(e,o){n=a[t]=[e,o]});e.push(n[2]=o);var r,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=s(t),r=function(e){u.onerror=u.onload=null,clearTimeout(c);var n=a[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+o+": "+r+")");s.type=o,s.request=r,n[1](s)}a[t]=void 0}};var c=setTimeout(function(){r({type:"timeout",target:u})},12e4);u.onerror=u.onload=r,document.head.appendChild(u)}return Promise.all(e)},i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var d=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"30db":function(t,e,n){"use strict";var o=n("a4c0"),a=n.n(o);a.a},3169:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("96cf");var o=n("3b8d"),a=(n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Dashboard")]),t._v(" |\n\t\t"),n("router-link",{attrs:{to:"/about"}},[t._v("About")]),t._v(" |\n\t\t"),t.authenticated?n("router-link",{attrs:{to:"/logout"}},[t._v("Log out")]):n("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1),n("router-view")],1)},s=[],i={computed:{authenticated:function(){return JSON.parse(localStorage.getItem("authenticated"))}}},u=i,c=(n("5c0b"),n("2877")),l=Object(c["a"])(u,r,s,!1,null,null,null),d=l.exports,m=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"dashboard"}},[n("Expenses")],1)},p=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"expenses"},[n("h1",[t._v("Hey "+t._s(t.user.displayName.substr(0,t.user.displayName.indexOf(" ")))+" ðŸ‘‹")]),n("h2",[t._v("Here are your latest expenses")]),n("div",{staticClass:"expenses-inner"},[n("div",{staticClass:"expenses-header"},[n("button",{attrs:{id:"add-expense"},on:{click:t.showModal}},[t._v("Add Expense")]),n("NextPrev",{attrs:{sortBy:"month"},on:{showMonthSelector:t.toggleMonthSelector}}),t.monthSelectorVisibility?n("div",{staticClass:"select-month"},[n("label",{attrs:{for:"months"}},[t._v("\n\t\t\t\t\tShowing expenses for:\n\t\t\t\t\t"),n("Months",{on:{selectedMonth:t.sortExpensesByMonth}})],1)]):t._e()],1),n("table",{staticClass:"expenses-table"},[t._m(0),n("tbody",t._l(t.expenses,function(e,o){return n("tr",{key:o},[n("td",{staticClass:"title"},[t._v(t._s(e.title))]),n("td",{staticClass:"amount"},[t._v(t._s(t.formatAmount(e.amount)))]),n("td",{staticClass:"bank"},[t._v(t._s(e.bank))]),n("td",{staticClass:"date"},[t._v(t._s(e.date.toDate().toDateString()))]),n("td",{staticClass:"comments"},[t._v(t._s(e.comments))])])}),0),n("tfoot",[n("tr",[n("td",[t._v("Total this month")]),n("td",[t._v(t._s(t.formatAmount(t.monthTotal)))])])])])]),n("Modal",{directives:[{name:"show",rawName:"v-show",value:t.modalVisibility,expression:"modalVisibility"}],on:{close:t.closeModal}},[n("div",{attrs:{slot:"modal-header"},slot:"modal-header"},[n("h1",[t._v("Add Expense")])]),n("div",{attrs:{slot:"modal-body"},slot:"modal-body"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.createExpense(t.userRecord.title,t.userRecord.amount,t.userRecord.bank,t.userRecord.comments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userRecord.title,expression:"userRecord.title"}],attrs:{type:"text",placeholder:"Title..."},domProps:{value:t.userRecord.title},on:{input:function(e){e.target.composing||t.$set(t.userRecord,"title",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userRecord.amount,expression:"userRecord.amount"}],attrs:{type:"number",step:"0.01",placeholder:"Amount..."},domProps:{value:t.userRecord.amount},on:{input:function(e){e.target.composing||t.$set(t.userRecord,"amount",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userRecord.bank,expression:"userRecord.bank"}],attrs:{type:"text",placeholder:"Bank..."},domProps:{value:t.userRecord.bank},on:{input:function(e){e.target.composing||t.$set(t.userRecord,"bank",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userRecord.comments,expression:"userRecord.comments"}],attrs:{type:"text",placeholder:"Comments..."},domProps:{value:t.userRecord.comments},on:{input:function(e){e.target.composing||t.$set(t.userRecord,"comments",e.target.value)}}}),n("button",{attrs:{slot:"modal-footer",type:"submit"},on:{click:t.closeModal},slot:"modal-footer"},[t._v("Add Expense")])])])])],1)},v=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{staticClass:"title"},[t._v("Title")]),n("th",{staticClass:"amount"},[t._v("Amount")]),n("th",{staticClass:"bank"},[t._v("Bank")]),n("th",{staticClass:"date"},[t._v("Date")]),n("th",{staticClass:"comments"},[t._v("Comments")])])])}],b=(n("6b54"),n("a481"),n("ac6a"),n("59ca")),_=n.n(b),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal-fade"}},[n("div",{staticClass:"modal-backdrop"},[n("div",{staticClass:"modal"},[n("header",{staticClass:"modal-header"},[t._t("modal-header")],2),n("section",{staticClass:"modal-body"},[t._t("modal-body",[n("h2",[t._v("Form")])])],2),n("footer",{staticClass:"modal-footer"},[t._t("modal-footer"),n("button",{attrs:{id:"exit-modal"},on:{click:t.close}},[t._v("Ã—")])],2)])])])},y=[],x={name:"Modal",props:{newRecord:Object},methods:{close:function(){this.$emit("close")}}},w=x,E=(n("30db"),Object(c["a"])(w,g,y,!1,null,null,null)),M=E.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("select",{attrs:{name:"months",id:"months"}},t._l(t.months,function(e,o){return n("option",{domProps:{value:o+1,selected:t.isCurrentMonth(o+1)}},[t._v(t._s(e))])}),0)},C=[],k={name:"Months",data:function(){return{months:["January","February","March","April","May","June","July","August","September","October","November","December"],currentMonth:(new Date).getMonth()+1}},methods:{isCurrentMonth:function(t){return parseInt(t)==this.currentMonth}},mounted:function(){var t=this;document.getElementById("months").addEventListener("change",function(){var e=document.getElementById("months").value;t.$emit("selectedMonth",e)})}},S=k,D=(n("8b90"),Object(c["a"])(S,R,C,!1,null,"768ec94e",null)),O=D.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"next-prev"}},[t._m(0),n("select",{attrs:{name:"sort-by",id:"sort-by"},on:{change:function(e){return t.selectSort(e)}}},[n("option",{attrs:{value:"day",selected:""}},[t._v("Day")]),n("option",{attrs:{value:"month"}},[t._v("Month")])]),t._m(1)])},j=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"prev"},[n("span",{staticClass:"arrow"},[t._v("Prev")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"next"},[n("span",{staticClass:"arrow"},[t._v("Next")])])}],P={name:"NextPrev",props:{sortBy:String},methods:{selectSort:function(t){var e=document.getElementById("sort-by").value;this.$emit("showMonthSelector",e)}}},A=P,$=(n("830f"),Object(c["a"])(A,I,j,!1,null,"6d4db17a",null)),T=$.exports,N={name:"Expenses",components:{Modal:M,Months:O,NextPrev:T},props:{newRecord:Object},data:function(){return{expenses:[],monthTotal:0,userRecord:{title:"",amount:0,bank:"",comments:""},modalVisibility:!1,monthSelectorVisibility:!1,user:_.a.auth().currentUser,currentDate:{day:(new Date).getDate(),month:(new Date).getMonth()+1,year:(new Date).getFullYear()}}},methods:{createExpense:function(t,e,n,o){var a=mt.fromDate(new Date);dt.collection("users").doc(this.user.uid).collection("expenses").add({title:t,amount:e,bank:n,date:a,comments:o})},getExpenses:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentDate.month,e=this,n=dt.collection("users").doc(this.user.uid).collection("expenses").where("date",">=",mt.fromDate(new Date("2019-".concat(t)))).where("date","<",mt.fromDate(new Date("2019-".concat(parseInt(t)+1)))).orderBy("date","desc");n.onSnapshot(function(t){var n=[];t.forEach(function(t){n.push(t.data())}),e.expenses=n,e.calculateTotal()})},sortExpensesByMonth:function(t){this.getExpenses(t)},showModal:function(){this.modalVisibility=!0},closeModal:function(){this.modalVisibility=!1},toggleMonthSelector:function(t){this.monthSelectorVisibility="month"==t},calculateTotal:function(){var t=this;this.monthTotal=0,this.expenses.forEach(function(e){t.monthTotal+=parseInt(e.amount)})},formatAmount:function(t){return t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}},created:function(){this.getExpenses()}},V=N,B=(n("ae3c"),Object(c["a"])(V,f,v,!1,null,"79a01673",null)),J=B.exports,L={name:"dashboard",components:{Expenses:J}},U=L,F=(n("b985"),Object(c["a"])(U,h,p,!1,null,null,null)),z=F.exports,W=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[n("div",{attrs:{id:"firebase-login"}})])}],G=n("8aa5"),H=n.n(G),Y=n("582e"),K=n.n(Y),Q=(n("c9b9"),{apiKey:"AIzaSyDhCuaYIqjpWVsVWGaA-a5y3IMm56pr2z0",authDomain:"ssh-debite.firebaseapp.com",databaseURL:"https://ssh-debite.firebaseio.com",projectId:"ssh-debite",storageBucket:"",messagingSenderId:"367613026939",appId:"1:367613026939:web:507a5b9151eafe6c"}),X={mounted:function(){var t={signInOptions:[{provider:H.a.auth.GoogleAuthProvider.PROVIDER_ID},{provider:H.a.auth.FacebookAuthProvider.PROVIDER_ID},{provider:H.a.auth.EmailAuthProvider.PROVIDER_ID}],callbacks:{signInSuccessWithAuthResult:function(){localStorage.setItem("authenticated",!0),window.location.href="/"}}},e=new K.a.auth.AuthUI(H.a.auth());e.start("#firebase-login",t)}},Z=X,tt=Object(c["a"])(Z,W,q,!1,null,null,null),et=tt.exports,nt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ot=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"logout"}},[n("p",[t._v("Logging out...")])])}],at={mounted:function(){H.a.auth().signOut().then(function(){localStorage.setItem("authenticated",!1),window.location.href="/"})}},rt=at,st=Object(c["a"])(rt,nt,ot,!1,null,null,null),it=st.exports;a["a"].use(m["a"]);var ut=new m["a"]({mode:"history",base:"/",routes:[{path:"/login",name:"login",component:et},{path:"/logout",name:"logout",component:it},{path:"/",name:"dashboard",component:z,meta:{protected:!0}},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),ct=n("0ff2");n.d(e,"db",function(){return dt}),n.d(e,"Timestamp",function(){return mt}),a["a"].use(ct["a"]),_.a.initializeApp(Q);var lt,dt=_.a.firestore(),mt=_.a.firestore.Timestamp;ut.beforeEach(function(t,e,n){if(t.meta.protected){var o=_.a.auth().onAuthStateChanged(function(t){t?n():ut.push("/login")});o()}else n()}),ut.beforeEach(function(t,e,n){var o=_.a.auth().currentUser;t.meta.protected&&!o?ut.push("login"):n()}),_.a.auth().onAuthStateChanged(function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(lt){t.next=5;break}return t.next=3,_.a.auth().currentUser;case 3:n=t.sent,lt=new a["a"]({router:ut,created:function(){n||this.router.push("/login")},render:function(t){return t(d)}}).$mount("#app");case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),a["a"].config.productionTip=!1},"5c0b":function(t,e,n){"use strict";var o=n("5e27"),a=n.n(o);a.a},"5e27":function(t,e,n){},"76aa":function(t,e,n){},"830f":function(t,e,n){"use strict";var o=n("bd86"),a=n.n(o);a.a},"8b90":function(t,e,n){"use strict";var o=n("d714"),a=n.n(o);a.a},a4c0:function(t,e,n){},ae3c:function(t,e,n){"use strict";var o=n("76aa"),a=n.n(o);a.a},b985:function(t,e,n){"use strict";var o=n("3169"),a=n.n(o);a.a},bd86:function(t,e,n){},d714:function(t,e,n){}});
//# sourceMappingURL=app.3070cbb0.js.map